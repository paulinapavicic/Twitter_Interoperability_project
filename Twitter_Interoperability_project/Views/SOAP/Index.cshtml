@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    ViewData["Title"] = "SOAP Service Management";
}

<div class="row">
    <div class="col-md-6">
        <h3>Generate Twitter Data XML</h3>
        <form asp-action="GenerateXml" method="post">
            <div class="form-group">
                <label for="query">Search Query:</label>
                <input type="text" name="query" id="query" class="form-control" required />
            </div>
            <button type="submit" class="btn btn-primary mt-3">Generate XML</button>
        </form>
    </div>

    <div class="col-md-6">
        <h3>Search Job Postings via SOAP</h3>
        <form method="post" asp-action="SearchSoap">
            <div class="form-group">
                <label for="term">Search term:</label>
                <input type="text" name="term" id="term" class="form-control" required />
            </div>
            <button type="submit" class="btn btn-success mt-3">Search via SOAP</button>
        </form>

        <!-- Success and Error Feedback -->
        @if (ViewBag.SoapMessage != null)
        {
            <div class="alert alert-success mt-3">@ViewBag.SoapMessage</div>
        }
        @if (ViewBag.SoapError != null)
        {
            <div class="alert alert-danger mt-3">@ViewBag.SoapError</div>
        }
        @if (TempData["XmlMessage"] != null)
        {
            <div class="alert alert-success mt-3">@TempData["XmlMessage"]</div>
        }
        @if (TempData["XmlError"] != null)
        {
            <div class="alert alert-danger mt-3">@TempData["XmlError"]</div>
        }

        <!-- Raw SOAP Result XML -->
        @if (ViewBag.SoapResultsXml != null)
        {
            <label class="mt-3">Raw SOAP Search Results (XML):</label>
            <textarea class="form-control" rows="10" readonly>@ViewBag.SoapResultsXml</textarea>
        }

     
    </div>
</div>
