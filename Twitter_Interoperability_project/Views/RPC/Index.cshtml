@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    ViewData["Title"] = "XML-RPC Weather Service";
}
<div class="container" style="max-width: 600px;">
    <div class="card shadow mt-5">
        <div class="card-header bg-primary text-white">
            <h4 class="mb-0">XML-RPC Weather Service</h4>
        </div>
        <div class="card-body">
            <form method="post" class="form-inline mb-3">
                <div class="form-group mr-2 mb-2">
                    <label for="cityPart" class="mr-2">City or part of city name:</label>
                    <input type="text" id="cityPart" name="cityPart" value="@ViewBag.CityPart" class="form-control" placeholder="e.g. Zagreb" required />
                </div>
                <button type="submit" class="btn btn-primary mb-2">Get Temperature</button>
            </form>

            @if (ViewBag.Error != null)
            {
                <div class="alert alert-danger">@ViewBag.Error</div>
            }

            @if (ViewBag.Results != null)
            {
                <h5 class="mt-4">Results:</h5>
                <ul class="list-group">
                    @foreach (var city in (CityTemp[])ViewBag.Results)
                    {
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            <span><strong>@city.Name</strong></span>
                            <span>@city.Temp &deg;C</span>
                        </li>

                    }
                </ul>
                @if (((CityTemp[])ViewBag.Results).Length == 0)
                {
                    <div class="alert alert-warning mt-3">No matching cities found.</div>
                }
            }
        </div>
    </div>
</div>