@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    ViewData["Title"] = "XML-RPC Weather Service";
}
<h2>XML-RPC Weather Service</h2>

<form method="post">
    <label>City or part of city name:</label>
    <input type="text" name="cityPart" value="@ViewBag.CityPart" />
    <button type="submit" class="btn btn-primary">Get Temperature</button>
</form>

@if (ViewBag.Error != null)
{
    <div class="alert alert-danger">@ViewBag.Error</div>
}

@if (ViewBag.Results != null)
{
    <h3>Results:</h3>
    <ul>
        @foreach (var city in (CityTemp[])ViewBag.Results)
        {
            <li><b>@city.Name</b>: @city.Temp &deg;C</li>
        }
    </ul>
    if (((CityTemp[])ViewBag.Results).Length == 0)
    {
        <div>No matching cities found.</div>
    }
}